<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/main-layout}"
>
<head>
    <meta charset="UTF-8">
    <meta th:name="${_csrf.parameterName}" th:content="${_csrf.token}">
    <title>STYLE CODI ♥♡♥♡</title>
    <link rel="stylesheet" href="../../static/css/main/category.css">
    <script src="../../static/js/main/category.js" defer></script>
</head>
<body>
<main layout:fragment="main">

    <section class="category-section">
        <h1>콜렉터블</h1>
        <div class="product-sort">
            <div>
                <span>등록상품:</span>
                <b>13건</b>
            </div>

            <ul>
                <li>
                    <a th:href="@{|/product?categoryNo=${categoryNo}&sort=recent|}" target="store">최신순</a>
                </li>
                <li>
                    <a th:href="@{|/product?categoryNo=${categoryNo}&sort=name|}" target="store">이름순</a>
                </li>
                <li>
                    <a th:href="@{|/product?categoryNo=${categoryNo}&sort=low-price|}" target="store">낮은 가격순</a>
                </li>
                <li>
                    <a th:href="@{|/product?categoryNo=${categoryNo}&sort=high-price|}" target="store">높은 가격순</a>
                </li>
            </ul>

        </div>
        <section>
            <div class="item" th:each="product: ${products}">
                <form th:id="${product.no}">
                    <a class="image-container" th:href="@{|/product/${product.no}|}">
                        <img th:src="@{|/image/${product.images[0].no}|}" src="" alt="">
                    </a>
                    <b class="title" th:text="${product.name}">상품 이름</b>
                    <br>
                    <b class="price" th:text="${product.price}">1,192원</b>
                    <div class="user-like-container">
                        <button onclick="toggleIcon(this)">
                            <i th:classappend="${dibsMap[product.no] ? 'bi bi-heart-fill' : 'bi bi-heart'}"></i>
                        </button>
                    </div>
                </form>
            </div>
        </section>
        <ol>
            <li><a href="#"><i class="bi bi-caret-left-fill"></i></a></li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#"><i class="bi bi-caret-right-fill"></i></a></li>
        </ol>
    </section>

</main>
</body>
</html>
